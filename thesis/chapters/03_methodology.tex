\chapter{\todored{Design and Methodology}}
\label{chap:methodology}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ИДЕЯ — вернхеуровнево описываю чего я хочу добиться

% описываю архитектуру своего решения; как вы собираетесь реализовать эффективный Hindley-Milner с уровнями через Free Foil. Тут важно сказать основные моменты, которые относятся к уровням и как они соотносятся с Free Foil

% Здесь нужно опираться на типы в моей реализации (Constraint, TypingContext, etc.)
% Описать критичные решения в моей реализации: почему Haskell почему BNFC почему free-foil

% Proof of concept через SOAS.
% декларативное описание алгоритма уже в работе, но с уровнями (куда и что мы вставили, чтобы)
% 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{figure}[H]
  \begin{mathpar}
    \inferrule
      {e \text{ is a natural number}}
      {e : \texttt{Nat}}
      \,[\texttt{ENat}]

    \texttt{true} : \texttt{Bool}\,[\texttt{ETrue}]

    \texttt{false} : \texttt{Bool}\,[\texttt{EFalse}]

    \inferrule
      {x : \sigma \in \Gamma \quad
      \tau = \texttt{inst}(\sigma)}
      {\Gamma \vdash x : \tau}
      \,[\texttt{Var}]
  \end{mathpar}
  \caption{Algorithm $\mathcal{L}$ typing rules.}
\end{figure}

\begin{figure}[H]
  \begin{mathpar}
    \overline{\Gamma}_l(\tau) = \forall \{\,\alpha | \alpha \in \texttt{free}(\tau) \text{ and } L(\alpha) > l\,\} .\tau
  \end{mathpar}
  \caption{Generalization via levels.}
\end{figure}
